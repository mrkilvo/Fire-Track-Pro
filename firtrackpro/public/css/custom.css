/* ========= Fire Track Pro — Portal polish (tokenized, neutral, rounded) ========= */

/* ---- Brand & system tokens (site-wide) ---- */
:root{
  /* brand */
  --brand: #E11D48;           /* primary */
  --brand-600: #BE123C;       /* hover */
  --brand-700: #9F1239;       /* active */
  --brand-weak: #FDE7EE;      /* subtle fills */

  /* neutrals */
  --ink: #0F172A;             /* strong text */
  --muted: #475569;           /* muted text */
  --line: #E2E8F0;            /* borders */
  --panel: #FFFFFF;           /* cards/bg */
  --panel-weak: #F8FAFC;      /* subtle bg */

  /* status */
  --ok: #10B981;     --ok-weak: #ECFDF5;
  --warn: #F59E0B;   --warn-weak: #FFFBEB;
  --err: #EF4444;    --err-weak: #FEF2F2;

  /* radii & elevation */
  --radius: 12px;
  --radius-lg: 16px;
  --shadow-1: 0 1px 2px rgba(2,6,23,.06);
  --shadow-2: 0 20px 40px rgba(2,6,23,.20);
}

/* ---- Scope to portal pages only (main content area in portal_base.html) ---- */
main {
  --ft-radius: var(--radius);
  --ft-focus-ring: 0 0 0 4px rgba(15, 23, 42, 0.06); /* slate-900 @ 6% */
  --ft-border: var(--line);
  --ft-border-strong: #cbd5e1; /* slate-300 */
  --ft-text: var(--ink);
  --ft-muted: var(--muted);
  --ft-bg: var(--panel);
}

/* ---------- Buttons (only if no explicit bg-* given) ---------- */
main button:not([class*="bg-"]):not([class*="btn-"]),
main .btn {
  border-radius: var(--ft-radius) !important;
  padding: 0.5rem 0.75rem !important;            /* px-3 py-2 */
  border: 1px solid var(--ft-border) !important;
  background: var(--ft-bg) !important;
  color: var(--ft-text) !important;
  box-shadow: 0 1px 1px rgba(2, 6, 23, 0.04);
}
main button:not([class*="bg-"]):hover,
main .btn:hover { background: var(--panel-weak) !important; }
main button:not([class*="bg-"]):active,
main .btn:active { transform: translateY(0.5px); }

/* Ensure any button (including explicit bg-*) stays rounded */
main button { border-radius: var(--ft-radius) !important; }

/* ---------- Inputs / selects / textareas ---------- */
main input:not([type="checkbox"]):not([type="radio"]),
main select,
main textarea {
  border-radius: var(--ft-radius) !important;
  border: 1px solid var(--ft-border) !important;
  padding: 0.5rem 0.75rem !important;            /* px-3 py-2 */
  background: var(--ft-bg);
  color: var(--ft-text);
  outline: none;
  box-shadow: inset 0 0 0 0 rgba(0,0,0,0);
  transition: box-shadow .15s ease, border-color .15s ease;
}
main input:focus,
main select:focus,
main textarea:focus {
  border-color: var(--ft-border-strong) !important;
  box-shadow: var(--ft-focus-ring);
}

/* ---------- Sticky top bar subtle shadow ---------- */
main > header.sticky {
  box-shadow: 0 1px 0 rgba(2, 6, 23, 0.06);
}

/* ---------- Tables (headers + row hover) ---------- */
main table thead th {
  font-weight: 600;
  color: #334155;              /* slate-700 */
  background: #f1f5f9;         /* slate-100 */
  border-bottom: 1px solid var(--ft-border);
}
main table tbody tr {
  border-bottom: 1px solid var(--ft-border);
}
main table tbody tr:hover {
  background: #f8fafc;         /* slate-50 */
}

/* ---------- Pills / badges (if your JS injects rounded-full) ---------- */
main .rounded-full {
  border: 1px solid var(--ft-border);
}

/* ---------- Cards / white sections that look too flat ---------- */
main .border-b.bg-white,
main .bg-white.border,
main .bg-white.divide-y {
  border-color: var(--ft-border) !important;
  border-radius: var(--ft-radius);
  box-shadow: var(--shadow-1);
}

/* ---------- Modal polishing ---------- */
#email_modal .bg-white,
.modal .bg-white {
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-2);
}

/* ---------- Links (keep neutral blue for body links) ---------- */
main a { color: #1d4ed8; }         /* blue-700 */
main a:hover { color: #1e40af; }   /* blue-800 */

/* ====================================================================== */
/*                                SIDEBAR                                 */
/* ====================================================================== */

#sidebar {
  --sb-hover: rgba(255,255,255,.06);
  --sb-active: rgba(255,255,255,.10);
  --sb-text: #fff;
  --sb-muted: #cbd5e1;
}

/* Overall nav padding + the "Main" label tightened */
#sidebar nav { padding-top: .5rem !important; padding-bottom: .5rem !important; }
#sidebar nav > p { padding-top: .25rem !important; padding-bottom: .25rem !important; }

/* Flowbite accordion: remove margins that create vertical gaps */
#sidebar [data-accordion] h2 { margin: 0 !important; }

/* Top-level buttons (Flowbite h2 > button) — compact, no box */
#sidebar [data-accordion] h2 > button{
  padding: .35rem .5rem !important;   /* compact */
  min-height: 32px !important;        /* still tappable */
  margin-top: .125rem !important;
  border-radius: 10px !important;
  font-size: 13px; line-height: 1.2;

  border: 0 !important;
  outline: none !important;
  box-shadow: none !important;
  background: transparent;            /* keeps hover:bg-white/10 working */
  appearance: none;
}
#sidebar [data-accordion] h2 > button:focus-visible{
  outline: 2px solid rgba(255,255,255,.18);
  outline-offset: 2px;
}

/* Main item hover/active (driven by Flowbite's active classes) */
#sidebar [data-accordion] h2 > button:hover{ background: var(--sb-hover); }

/* Icons & chevrons in main items (slightly smaller) */
#sidebar [data-accordion] h2 > button .sb-icon{
  font-size: 18px; width: 1.25em; height: 1.25em;
}
#sidebar [data-accordion] h2 > button [data-accordion-icon]{
  width: 14px; height: 14px; transition: transform .15s ease;
}

/* Child container spacing (overrides 'my-2' in markup) */
#sidebar .submenu { margin-top: .25rem !important; margin-bottom: .25rem !important; }

/* Child links (submenu) — subtle, no borders */
#sidebar .submenu{
  padding-left:.5rem; border-left:1px solid rgba(255,255,255,.08);
}
#sidebar .submenu a{
  display:block; color: var(--sb-muted);
  padding:.4rem .5rem; border-radius: 8px; border:0 !important;
}
#sidebar .submenu a:hover{ color:#fff; background: var(--sb-hover); }

/* Neutralize any accidental borders from utility classes inside the sidebar */
#sidebar .border, #sidebar [class*="border-"]{ border-color: transparent !important; }

/* (Legacy) If any old templates still emit [data-toggle], keep them clean */
#sidebar [data-toggle]{
  display:flex; align-items:center; gap:.6rem; width:100%;
  background: transparent !important; color: var(--sb-text);
  border: 0 !important; box-shadow: none !important; border-radius: 12px;
  padding: .6rem .65rem; text-align: left;
}
#sidebar [data-toggle]:hover{ background: var(--sb-hover); }
#sidebar [data-toggle].is-open{ background: var(--sb-active); }
#sidebar [data-chevron]{ transition: transform .15s ease; }

/* ====================================================================== */
/*                          Utility brand helpers                         */
/* ====================================================================== */

/* Example helpers you can apply in HTML without Tailwind:
   <span class="badge--ok">Paid</span> */
.badge--ok    { background: var(--ok-weak);   color: var(--ok);   border: 1px solid color-mix(in srgb, var(--ok) 30%, transparent); border-radius: 9999px; padding: 2px 8px; font-size: 12px; }
.badge--warn  { background: var(--warn-weak); color: var(--warn); border: 1px solid color-mix(in srgb, var(--warn) 30%, transparent); border-radius: 9999px; padding: 2px 8px; font-size: 12px; }
.badge--err   { background: var(--err-weak);  color: var(--err);  border: 1px solid color-mix(in srgb, var(--err) 30%, transparent); border-radius: 9999px; padding: 2px 8px; font-size: 12px; }
